const RentrovioLanding={state:{currentRole:"landlord",isMobileMenuOpen:!1,isScrolled:!1,subscribers:[],isSubmitting:!1},init:function(){this.initializeComponents(),this.setupEventListeners(),this.setupScrollAnimations()},initializeComponents:function(){this.HeaderComponent.init(),this.BetaSignupComponent.init(),this.ContactFormComponent.init(),this.UserRolesComponent.init(),this.PricingComponent.init(),this.PrefetchComponent.init()},setupEventListeners:function(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))})),document.querySelectorAll(".header__cta-button, .pricing-card__button").forEach((e=>{e.addEventListener("click",(()=>{const e=document.getElementById("emailInput");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((()=>{e.focus()}),500))}))}))},setupScrollAnimations:function(){const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("visible")}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".feature-card, .testimonial-card, .role-info").forEach((t=>{t.classList.add("fade-in"),e.observe(t)}))}};RentrovioLanding.HeaderComponent={elements:{header:null,mobileToggle:null,navigation:null},init:function(){this.cacheElements(),this.bindEvents(),this.setupScrollListener()},cacheElements:function(){this.elements.header=document.getElementById("header"),this.elements.mobileToggle=document.getElementById("mobileToggle"),this.elements.navigation=document.getElementById("navigation"),console.log("Header component elements:",{header:this.elements.header,mobileToggle:this.elements.mobileToggle,navigation:this.elements.navigation})},bindEvents:function(){this.elements.mobileToggle&&this.elements.navigation?(console.log("Binding mobile toggle events"),this.elements.mobileToggle.addEventListener("click",this.toggleMobileMenu.bind(this)),this.elements.mobileToggle.addEventListener("touchstart",(e=>{e.preventDefault(),this.toggleMobileMenu()}),{passive:!1})):console.error("Mobile toggle or navigation element not found",{mobileToggle:this.elements.mobileToggle,navigation:this.elements.navigation}),this.elements.navigation&&this.elements.navigation.addEventListener("click",(e=>{e.target.matches(".header__nav-link")&&(console.log("Navigation link clicked, closing mobile menu"),this.closeMobileMenu())})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(console.log("Escape key pressed, closing mobile menu"),this.closeMobileMenu())})),document.addEventListener("click",(e=>{this.elements.navigation&&this.elements.mobileToggle&&this.elements.navigation.classList.contains("active")&&!this.elements.navigation.contains(e.target)&&!this.elements.mobileToggle.contains(e.target)&&(console.log("Clicked outside menu, closing mobile menu"),this.closeMobileMenu())})),window.addEventListener("resize",this.handleResize.bind(this))},toggleMobileMenu:function(){console.log("Toggle mobile menu called"),this.elements.navigation.classList.contains("active")?this.closeMobileMenu():this.openMobileMenu()},openMobileMenu:function(){console.log("Opening mobile menu"),this.elements.navigation.classList.add("active"),this.elements.mobileToggle.classList.add("active"),this.elements.mobileToggle.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden"},closeMobileMenu:function(){console.log("Closing mobile menu"),this.elements.navigation.classList.remove("active"),this.elements.mobileToggle.classList.remove("active"),this.elements.mobileToggle.setAttribute("aria-expanded","false"),document.body.style.overflow=""},handleResize:function(){window.innerWidth>=768&&(console.log("Window resized to desktop, closing mobile menu"),this.closeMobileMenu())},setupScrollListener:function(){let e=!1;const t=()=>{const t=window.scrollY>50;t!==RentrovioLanding.state.isScrolled&&(RentrovioLanding.state.isScrolled=t,this.elements.header.classList.toggle("header--scrolled",t)),e=!1};window.addEventListener("scroll",(()=>{e||(requestAnimationFrame(t),e=!0)}))}},RentrovioLanding.BetaSignupComponent={elements:{form:null,emailInput:null,submitButton:null},init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.elements.form=document.getElementById("betaSignupForm"),this.elements.emailInput=document.getElementById("emailInput"),this.elements.submitButton=this.elements.form?.querySelector(".beta-signup-form__button")},bindEvents:function(){this.elements.form&&this.elements.form.addEventListener("submit",this.handleSubmit.bind(this)),this.elements.emailInput&&(this.elements.emailInput.addEventListener("input",this.validateEmail.bind(this)),this.elements.emailInput.addEventListener("blur",this.validateEmail.bind(this)))},handleSubmit:function(e){if(e.preventDefault(),RentrovioLanding.state.isSubmitting)return;const t=this.elements.emailInput.value.trim();if(!this.isValidEmail(t))return this.showNotification("Please enter a valid email address","error"),void this.elements.emailInput.focus();RentrovioLanding.state.subscribers.includes(t)?this.showNotification("This email is already on our waitlist!","error"):this.submitToWaitlist(t)},submitToWaitlist:function(e){RentrovioLanding.state.isSubmitting=!0,this.updateSubmitButton("Joining...",!0),fetch("https://rentrovio-core-417144417802.asia-south2.run.app/v1/helpdesk/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).then((t=>{RentrovioLanding.state.subscribers.push(e),localStorage.setItem("rentrovio_waitlist",JSON.stringify(RentrovioLanding.state.subscribers)),this.showNotification("ðŸŽ‰ Welcome to the waitlist! We'll notify you when we launch.","success"),this.elements.emailInput.value="",RentrovioLanding.state.isSubmitting=!1,this.updateSubmitButton("Join Waitlist",!1),this.trackSignup(e)})).catch((e=>{console.error("Error submitting to waitlist:",e),RentrovioLanding.state.isSubmitting=!1,this.updateSubmitButton("Join Waitlist",!1),this.showNotification("Sorry, there was an error joining the waitlist. Please try again.","error")}))},isValidEmail:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},validateEmail:function(){const e=this.elements.emailInput.value.trim(),t=""===e||this.isValidEmail(e);this.elements.emailInput.style.borderColor=t?"#e5e7eb":"#E63946",this.elements.emailInput.style.borderColor=t||""===e?"#e5e7eb":"#E63946"},updateSubmitButton:function(e,t){this.elements.submitButton&&(t&&e.includes("...")?this.elements.submitButton.innerHTML=`<span class="spinner"></span>${e}`:this.elements.submitButton.textContent=e,this.elements.submitButton.disabled=t)},showNotification:function(e,t){document.querySelectorAll(".notification").forEach((e=>e.remove()));const n=document.createElement("div");n.className=`notification notification--${t}`,n.textContent=e,document.body.appendChild(n),n.style.animation="slideInRight 0.3s ease",setTimeout((()=>{n.style.animation="slideOutRight 0.3s ease",setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n)}),300)}),5e3)},trackSignup:function(e){console.log("Beta signup tracked:",e),"undefined"!=typeof gtag&&gtag("event","beta_signup",{event_category:"engagement",event_label:"waitlist"})}},RentrovioLanding.ContactFormComponent={elements:{form:null,nameInput:null,emailInput:null,subjectSelect:null,messageTextarea:null,userTypeRadios:null,submitButton:null,submitText:null,submitLoading:null},init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.elements.form=document.getElementById("contactForm"),this.elements.nameInput=document.getElementById("contactName"),this.elements.emailInput=document.getElementById("contactEmail"),this.elements.subjectSelect=document.getElementById("contactSubject"),this.elements.messageTextarea=document.getElementById("contactMessage"),this.elements.userTypeRadios=document.querySelectorAll('input[name="userType"]'),this.elements.submitButton=document.querySelector(".contact-form__submit"),this.elements.submitText=document.querySelector(".submit-text"),this.elements.submitLoading=document.querySelector(".submit-loading")},bindEvents:function(){this.elements.form&&this.elements.form.addEventListener("submit",this.handleSubmit.bind(this)),this.elements.nameInput&&(this.elements.nameInput.addEventListener("blur",(()=>this.validateField("name"))),this.elements.nameInput.addEventListener("input",(()=>this.clearFieldError("name")))),this.elements.emailInput&&(this.elements.emailInput.addEventListener("blur",(()=>this.validateField("email"))),this.elements.emailInput.addEventListener("input",(()=>this.clearFieldError("email")))),this.elements.subjectSelect&&this.elements.subjectSelect.addEventListener("change",(()=>this.validateField("subject"))),this.elements.messageTextarea&&(this.elements.messageTextarea.addEventListener("blur",(()=>this.validateField("message"))),this.elements.messageTextarea.addEventListener("input",(()=>this.clearFieldError("message"))))},handleSubmit:function(e){e.preventDefault(),this.validateForm()?this.sendEmail():this.showNotification("Please correct the errors before submitting.","error")},validateForm:function(){let e=!0;return["name","email","subject","message"].forEach((t=>{this.validateField(t)||(e=!1)})),e},validateField:function(e){const t={name:()=>!(this.elements.nameInput.value.trim().length<2)||(this.showFieldError("name","Name must be at least 2 characters long"),!1),email:()=>{const e=this.elements.emailInput.value.trim();return!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(this.showFieldError("email","Please enter a valid email address"),!1)},subject:()=>!!this.elements.subjectSelect.value||(this.showFieldError("subject","Please select a subject"),!1),message:()=>!(this.elements.messageTextarea.value.trim().length<10)||(this.showFieldError("message","Message must be at least 10 characters long"),!1)}[e];if(t){const n=t();return n&&this.clearFieldError(e),n}return!0},showFieldError:function(e,t){const n=this.getFieldElement(e),i=n?.closest(".form-group");if(i){i.classList.add("form-group--error");const e=i.querySelector(".form-error-message");e&&e.remove();const n=document.createElement("div");n.className="form-error-message",n.textContent=t,i.appendChild(n)}},clearFieldError:function(e){const t=this.getFieldElement(e),n=t?.closest(".form-group");if(n){n.classList.remove("form-group--error");const e=n.querySelector(".form-error-message");e&&e.remove()}},getFieldElement:function(e){return{name:this.elements.nameInput,email:this.elements.emailInput,subject:this.elements.subjectSelect,message:this.elements.messageTextarea}[e]},sendEmail:function(){this.setSubmitState(!0);const e=this.getFormData(),t={email:e.email,full_name:e.name,message:e.message,role:{landlord:0,tenant:1,caretaker:2,"not-specified":3}[e.userType]||0,subject:e.subject};fetch("https://rentrovio-core-417144417802.asia-south2.run.app/v1/helpdesk/contactus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).then((t=>{console.log("Contact form submitted successfully:",t),this.onEmailSuccess(e)})).catch((e=>{console.error("Contact form submission failed:",e),this.onEmailError(e)}))},getFormData:function(){const e=document.querySelector('input[name="userType"]:checked');return{name:this.elements.nameInput.value.trim(),email:this.elements.emailInput.value.trim(),subject:this.elements.subjectSelect.value,message:this.elements.messageTextarea.value.trim(),userType:e?e.value:"not-specified"}},onEmailSuccess:function(e){this.setSubmitState(!1),this.showNotification("ðŸŽ‰ Message sent successfully! We'll get back to you within 24 hours.","success"),this.resetForm(),this.trackContactSubmission(e)},onEmailError:function(e){this.setSubmitState(!1),this.showNotification("Sorry, there was an error sending your message. Please try again or email us directly at hello@rentrovio.com.","error"),console.error("Contact form error:",e)},setSubmitState:function(e){this.elements.submitButton&&(this.elements.submitButton.disabled=e),this.elements.submitText&&this.elements.submitLoading&&(e?(this.elements.submitText.style.display="none",this.elements.submitLoading.style.display="inline"):(this.elements.submitText.style.display="inline",this.elements.submitLoading.style.display="none"))},resetForm:function(){if(this.elements.form){this.elements.form.reset(),document.querySelectorAll(".form-group--error").forEach((e=>{e.classList.remove("form-group--error")})),document.querySelectorAll(".form-error-message").forEach((e=>{e.remove()}));const e=document.querySelector('input[name="userType"][value="landlord"]');e&&(e.checked=!0)}},showNotification:function(e,t){document.querySelectorAll(".notification").forEach((e=>e.remove()));const n=document.createElement("div");n.className=`notification notification--${t}`,n.textContent=e,document.body.appendChild(n),n.style.animation="slideInRight 0.3s ease",setTimeout((()=>{n.style.animation="slideOutRight 0.3s ease",setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n)}),300)}),6e3)},trackContactSubmission:function(e){console.log("Contact form submission tracked:",e),"undefined"!=typeof gtag&&gtag("event","contact_form_submit",{event_category:"engagement",event_label:e.subject,user_type:e.userType})}},RentrovioLanding.UserRolesComponent={elements:{tabs:null,contents:null},rolesData:{landlord:{title:"Landlord Dashboard",description:"Comprehensive property management tools designed for landlords",tabs:["Home","Properties","Earnings","Staff","Analytics","Profile"],features:["Property portfolio management","Revenue tracking and analytics","Staff coordination tools","Document management","Maintenance oversight","Bulk operations for efficiency"]},tenant:{title:"Tenant Portal",description:"Streamlined rental experience for tenants",tabs:["Home","My Unit","Payments","Maintenance","Documents","Profile"],features:["Unit information and lease details","Online payment processing","Maintenance request system","Payment history tracking","Document access portal","Request status monitoring"]},caretaker:{title:"Caretaker Interface",description:"Efficient property maintenance coordination tools",tabs:["Home","Properties","Maintenance","Overdue","Utilities","Profile"],features:["Multi-property oversight","Task management system","Utility monitoring","Tenant communication tools","Property analytics","Maintenance scheduling"]}},init:function(){this.cacheElements(),this.bindEvents(),this.renderActiveRole()},cacheElements:function(){this.elements.tabs=document.querySelectorAll(".user-roles__tab"),this.elements.contents=document.querySelectorAll(".role-content")},bindEvents:function(){this.elements.tabs.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-role");this.switchRole(t)}))}))},switchRole:function(e){RentrovioLanding.state.currentRole!==e&&(RentrovioLanding.state.currentRole=e,this.updateActiveTabs(),this.renderActiveRole())},updateActiveTabs:function(){this.elements.tabs.forEach((e=>{const t=e.getAttribute("data-role")===RentrovioLanding.state.currentRole;e.classList.toggle("user-roles__tab--active",t)}))},renderActiveRole:function(){this.elements.contents.forEach((e=>{e.classList.remove("role-content--active")}));const e=document.getElementById(`${RentrovioLanding.state.currentRole}-content`);e&&e.classList.add("role-content--active"),this.updateRoleContent()},updateRoleContent:function(){const e=this.rolesData[RentrovioLanding.state.currentRole];if(!e)return;const t=document.getElementById(`${RentrovioLanding.state.currentRole}-content`);if(!t)return;const n=t.querySelector(".role-navigation__tabs");n&&(n.innerHTML=e.tabs.map(((e,t)=>`<span class="nav-tab ${0===t?"nav-tab--active":""}">${e}</span>`)).join(""));const i=t.querySelector(".role-features__list");i&&(i.innerHTML=e.features.map((e=>`<li>${e}</li>`)).join(""))}},RentrovioLanding.PricingComponent={init:function(){this.setupComingSoonEffects()},setupComingSoonEffects:function(){const e=document.querySelector(".pricing-card__button");if(e){e.addEventListener("click",(e=>{e.preventDefault();const t=document.getElementById("emailInput");t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((()=>{t.focus()}),500))}));const t=document.querySelector(".pricing-card");t&&(t.addEventListener("mouseenter",(()=>{e.style.transform="scale(1.02)"})),t.addEventListener("mouseleave",(()=>{e.style.transform="scale(1)"})))}},animatePrice:function(e,t){let n=0;const i=t/20,o=setInterval((()=>{n+=i,n>=t&&(n=t,clearInterval(o)),e.textContent=`$${Math.floor(n)}`}),50)}},RentrovioLanding.PrefetchComponent={prefetchedUrls:new Set,prefetchElements:new Map,init:function(){this.setupHoverPrefetch()},setupHoverPrefetch:function(){document.addEventListener("mouseenter",(e=>{"A"===e.target.tagName&&e.target.href&&this.handleLinkHover(e.target)}),!0),document.addEventListener("mouseleave",(e=>{"A"===e.target.tagName&&e.target.href&&this.handleLinkLeave(e.target)}),!0)},handleLinkHover:function(e){const t=e.href;if(!this.shouldPrefetch(t))return;e.classList.add("prefetch-indicator");const n=setTimeout((()=>{e.classList.add("prefetching"),this.prefetchUrlCloudflare(t),setTimeout((()=>{e.classList.remove("prefetching")}),1e3)}),100);e._prefetchTimeout=n},handleLinkLeave:function(e){e._prefetchTimeout&&(clearTimeout(e._prefetchTimeout),delete e._prefetchTimeout),e.classList.remove("prefetch-indicator","prefetching")},shouldPrefetch:function(e){try{const t=new URL(e),n=new URL(window.location.href);return!this.prefetchedUrls.has(e)&&(t.hostname===n.hostname&&((t.pathname!==n.pathname||!t.hash)&&(!!t.protocol.startsWith("http")&&t.href!==n.href)))}catch(e){return!1}},prefetchUrlCloudflare:function(e){this.prefetchedUrls.add(e);const t=document.createElement("link");t.rel="prefetch",t.href=e,t.as="document",t.crossOrigin="anonymous",t.onerror=()=>{console.warn("Cloudflare prefetch failed for:",e),this.cleanupPrefetch(e)},t.onload=()=>{console.log("Successfully prefetched via Cloudflare:",e)},document.head.appendChild(t),this.prefetchElements.set(e,t),setTimeout((()=>{this.cleanupPrefetch(e)}),6e4)},cleanupPrefetch:function(e){const t=this.prefetchElements.get(e);t&&t.parentNode&&(t.parentNode.removeChild(t),this.prefetchElements.delete(e))}},RentrovioLanding.Utils={debounce:function(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...i)}),t)}},throttle:function(e,t){let n;return function(){const i=arguments,o=this;n||(e.apply(o,i),n=!0,setTimeout((()=>n=!1),t))}},isInViewport:function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}};const optimizedScroll=RentrovioLanding.Utils.throttle((()=>{}),100);window.addEventListener("scroll",optimizedScroll),window.addEventListener("error",(e=>{console.error("JavaScript error:",e.error)})),document.addEventListener("DOMContentLoaded",(()=>{console.log("DOM Content Loaded");try{RentrovioLanding.init(),console.log("Rentrovio Landing Page initialized successfully"),RentrovioLanding.initialized=!0}catch(e){console.error("Failed to initialize landing page:",e)}})),window.addEventListener("load",(()=>{console.log("Window loaded"),void 0===RentrovioLanding||RentrovioLanding.initialized||(console.log("Initializing Rentrovio Landing Page on window load"),RentrovioLanding.init(),console.log("Rentrovio Landing Page initialized on window load"),RentrovioLanding.initialized=!0)})),document.addEventListener("visibilitychange",(()=>{document.visibilityState})),"undefined"!=typeof module&&module.exports&&(module.exports=RentrovioLanding);